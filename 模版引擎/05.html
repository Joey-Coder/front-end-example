<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>导入变量</title>
  </head>
  <body>
    <div id="container"></div>
    <script src="js/template-web.js"></script>
    <script type="text/html" id="tpl">
      <!-- 在模版中使用定义的方法 -->
      <div>当前时间是: {{$imports.dateFormat(date)}}</div>
    </script>

    <script>
      //   将方法导入到模版中
      template.defaults.imports.dateFormat = dateFormat;
      var html = template("tpl", { date: new Date() });
      document.getElementById("container").innerHTML = html;
      //   定义方法
      function dateFormat(date) {
        return (
          date.getFullYear() +
          "年" +
          (date.getMonth() + 1) +
          "月" +
          date.getDate() +
          "日"
        );
      }
    </script>
  </body>
</html>
